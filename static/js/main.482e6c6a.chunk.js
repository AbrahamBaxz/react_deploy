(this.webpackJsonptexture_spike=this.webpackJsonptexture_spike||[]).push([[0],{41:function(e,t,n){},49:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n.n(a),r=n(29),i=n.n(r),o=(n(49),n(41),n(16)),s=n(62),u=n(61),A=n(60),O=n(4),l=n(10);u.a.preload("/compressed_t-shirt.glb");var j=function(e){var t=e.texture,n=e.design,c=e.part;console.log("%c \ud83d\udd0a: Tshirt -> design ","font-size:16px;background-color:#1dbde1;color:white;",n);var r=Object(a.useRef)(),i=Object(u.a)("/compressed_t-shirt.glb").nodes;console.log("%c \ud83d\udc13: Tshirt -> nodes ","font-size:16px;background-color:#8601cb;color:white;",i);var o=Object(A.a)({bump:"/bump/".concat(t.bumpMap,".png"),normal:"/normal/".concat(t.normalMap,".jpg")}),s=o.bump,j=o.normal,b=function(e){var t=(new O.TextureLoader).load(e);return t.flipY=!1,t};return Object(l.jsx)("group",{ref:r,dispose:null,children:Object.keys(i).map((function(e){if("Scene"!==e)return c===e.substr(5)?Object(l.jsx)("mesh",{geometry:i[e].geometry,material:i[e].material,"material-bumpMap":s,"material-normalMap":j,"material-map":b(n[c].imgBase)},i[e].uuid):Object(l.jsx)("mesh",{geometry:i[e].geometry,material:i[e].material,"material-bumpMap":s,"material-normalMap":j,"material-map":b(n[e.substr(5)].imgBase)},i[e].uuid)}))})},b=n(19),d=function(){var e=Object(b.c)((function(e){return e.texture})),t=Object(b.c)((function(e){return e.design})),n=Object(b.c)((function(e){return e.part}));return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(o.a,{camera:{position:[0,7,120],fov:50},children:[Object(l.jsx)("pointLight",{position:[25,22,45],intensity:1,color:"#ffffff"}),Object(l.jsx)("pointLight",{position:[25,22,-45],intensity:1,color:"#ffffff"}),Object(l.jsx)("pointLight",{position:[-25,22,45],intensity:1,color:"#ffffff"}),Object(l.jsx)("pointLight",{position:[-25,22,-45],intensity:1,color:"#ffffff"}),Object(l.jsx)(a.Suspense,{fallback:null,children:Object(l.jsx)(j,{texture:e,design:t,part:n})}),Object(l.jsx)(s.a,{})]})})},h=n(37),g={bumpMap:"Fabric_Knitted",normalMap:"Fabric_Knitted"},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FABRIC_034":return{normalMap:"Fabric_034",bumpMap:"Fabric_034"};case"FABRIC_KNIT":return{normalMap:"Fabric_Knitted",bumpMap:"Fabric_Knitted"};case"FABRIC_NYLON":return{normalMap:"Fabric_Nylon",bumpMap:"Fabric_Nylon"};default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NONE",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET":return t.payload;default:return e}},m=n(9),E="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAAC3CAMAAAAGjUrGAAAAA1BMVEX///+nxBvIAAAAR0lEQVR4nO3BAQ0AAADCoPdPbQ8HFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPBgxUwAAU+n3sIAAAAASUVORK5CYII=",x={MOON:{imgBase:E},BODY_FRONT_OUTER:{imgBase:E,x:0,y:0,Xmin:-29,Xmax:35,Ymin:-40,Ymax:8,status:!1},BODY_BACK_OUTER:{imgBase:E,x:0,y:0,Xmin:-54,Xmax:0,Ymin:-42,Ymax:7,status:!1},SLEEVE_LEFT_OUTER:{imgBase:E,x:0,y:0,Xmin:-57,Xmax:17,Ymin:-40,Ymax:38,status:!1},SLEEVE_RIGHT_OUTER:{imgBase:E,x:0,y:0,Xmin:-16,Xmax:66,Ymin:-38,Ymax:38,status:!1},BODY_FRONT_INNER:{imgBase:E},BODY_BACK_INNER:{imgBase:E},SLEEVE_LEFT_INNER:{imgBase:E},SLEEVE_RIGHT_INNER:{imgBase:E},RIB:{imgBase:E},STITCH:{imgBase:E},CUSTOM:{imgBase:E}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BODY_FRONT_OUTER":return Object(m.a)(Object(m.a)({},e),{},{BODY_FRONT_OUTER:Object(m.a)(Object(m.a)({},e.BODY_FRONT_OUTER),{},{imgBase:t.payload})});case"BODY_BACK_OUTER":return Object(m.a)(Object(m.a)({},e),{},{BODY_BACK_OUTER:Object(m.a)(Object(m.a)({},e.BODY_BACK_OUTER),{},{imgBase:t.payload})});case"SLEEVE_LEFT_OUTER":return Object(m.a)(Object(m.a)({},e),{},{SLEEVE_LEFT_OUTER:Object(m.a)(Object(m.a)({},e.SLEEVE_LEFT_OUTER),{},{imgBase:t.payload})});case"SLEEVE_RIGHT_OUTER":return Object(m.a)(Object(m.a)({},e),{},{SLEEVE_RIGHT_OUTER:Object(m.a)(Object(m.a)({},e.SLEEVE_RIGHT_OUTER),{},{imgBase:t.payload})});case"ALL":return Object(m.a)(Object(m.a)({},e),{},{BODY_FRONT_OUTER:Object(m.a)(Object(m.a)({},e.BODY_FRONT_OUTER),{},{imgBase:t.payload}),BODY_BACK_OUTER:Object(m.a)(Object(m.a)({},e.BODY_BACK_OUTER),{},{imgBase:t.payload}),SLEEVE_LEFT_OUTER:Object(m.a)(Object(m.a)({},e.SLEEVE_LEFT_OUTER),{},{imgBase:t.payload}),SLEEVE_RIGHT_OUTER:Object(m.a)(Object(m.a)({},e.SLEEVE_RIGHT_OUTER),{},{imgBase:t.payload})});case"CUSTOM_ADD_DESIGN":return Object(m.a)(Object(m.a)({},e),{},{CUSTOM:{imgBase:t.payload}});case"CLEAN_SHIRT":return x;default:return e}},R=Object(h.a)({texture:f,part:p,design:_}),T=Object(h.b)(R,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),y=function(){var e=Object(b.c)((function(e){return e.part})),t=Object(b.b)();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("select",{onChange:function(e){t({type:e.target.value})},children:[Object(l.jsx)("option",{disabled:!0,children:"-- Select an Texture --"}),Object(l.jsx)("option",{value:"FABRIC_KNIT",selected:!0,children:"FABRIC KNIT"}),Object(l.jsx)("option",{value:"FABRIC_034",children:"FABRIC 034 "}),Object(l.jsx)("option",{value:"FABRIC_NYLON",children:"FABRIC NYLON"})]}),Object(l.jsxs)("select",{onChange:function(e){t({type:"SET",payload:e.target.value})},children:[Object(l.jsx)("option",{disabled:!0,selected:!0,children:"-- Select an Part --"}),Object(l.jsx)("option",{value:"ALL",children:"ALL"}),Object(l.jsx)("option",{value:"BODY_FRONT_OUTER",children:"BODY_FRONT_OUTER"}),Object(l.jsx)("option",{value:"BODY_BACK_OUTER",children:"BODY_BACK_OUTER"}),Object(l.jsx)("option",{value:"SLEEVE_LEFT_OUTER",children:"SLEEVE_LEFT_OUTER"}),Object(l.jsx)("option",{value:"SLEEVE_RIGHT_OUTER",children:"SLEEVE_RIGHT_OUTER"})]}),Object(l.jsxs)("h2",{children:["Part: ",e]})]})},B=n(17),w=n.n(B),S=n(22),C=n(15),v=n(14),U=n(18),F=function(e){var t=e.shapeProps,n=e.isSelected,r=e.onSelect,i=e.onChange,o=Object(a.useRef)(),s=Object(a.useRef)();return Object(a.useEffect)((function(){n&&(s.current.nodes([o.current]),s.current.getLayer().batchDraw())}),[n]),Object(l.jsxs)(c.a.Fragment,{children:[Object(l.jsx)(U.e,Object(m.a)(Object(m.a)({onClick:r,onTap:r,ref:o},t),{},{draggable:!0,onDragEnd:function(e){i(Object(m.a)(Object(m.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var n=o.current,a=n.scaleX(),c=n.scaleY();n.scaleX(1),n.scaleY(1),i(Object(m.a)(Object(m.a)({},t),{},{x:n.x(),y:n.y(),innerRadius:Math.max(5,n.innerRadius()*a),outerRadius:Math.max(n.outerRadius()*c)}))}})),n&&Object(l.jsx)(U.f,{ref:s,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}})]})},L=function(e){var t=e.shapeProps,n=e.isSelected,r=e.onSelect,i=e.onChange,o=Object(a.useRef)(),s=Object(a.useRef)();return Object(a.useEffect)((function(){n&&(s.current.nodes([o.current]),s.current.getLayer().batchDraw())}),[n]),Object(l.jsxs)(c.a.Fragment,{children:[Object(l.jsx)(U.c,Object(m.a)(Object(m.a)({onClick:r,onTap:r,ref:o},t),{},{draggable:!0,onDragEnd:function(e){i(Object(m.a)(Object(m.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var n=o.current,a=n.scaleX(),c=n.scaleY();n.scaleX(1),n.scaleY(1),i(Object(m.a)(Object(m.a)({},t),{},{x:n.x(),y:n.y(),width:Math.max(5,n.width()*a),height:Math.max(n.height()*c)}))}})),n&&Object(l.jsx)(U.f,{ref:s,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}})]})},I=function(e){var t=e.shapeProps,n=e.isSelected,r=e.onSelect,i=e.onChange,o=Object(a.useRef)(),s=Object(a.useRef)();return Object(a.useEffect)((function(){n&&(s.current.nodes([o.current]),s.current.getLayer().batchDraw())}),[n]),Object(l.jsxs)(c.a.Fragment,{children:[Object(l.jsx)(U.a,Object(m.a)(Object(m.a)({onClick:r,onTap:r,ref:o},t),{},{draggable:!0,onDragEnd:function(e){i(Object(m.a)(Object(m.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var n=o.current,a=n.scaleX(),c=n.scaleY();n.scaleX(1),n.scaleY(1),i(Object(m.a)(Object(m.a)({},t),{},{x:n.x(),y:n.y(),width:Math.max(5,n.width()*a),height:Math.max(n.height()*c)}))}})),n&&Object(l.jsx)(U.f,{ref:s,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}})]})},M=function(){var e=Object(b.c)((function(e){return e.part})),t=Object(b.b)(),n=Object(a.useState)([]),c=Object(v.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)(null),s=Object(v.a)(o,2),u=s[0],A=s[1],O=Object(a.useState)(),j=Object(v.a)(O,2),d=j[0],h=j[1],g=Object(a.useRef)(null);Object(a.useEffect)((function(){var e=new window.Image;e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAAC3CAMAAAAGjUrGAAAAA1BMVEX///+nxBvIAAAAR0lEQVR4nO3BAQ0AAADCoPdPbQ8HFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPBgxUwAAU+n3sIAAAAASUVORK5CYII=",h(e)}),[]);var f=function(e){i([].concat(Object(C.a)(r),[{id:"image".concat(Math.random().toString()),type:"image",key:Math.random().toString(),x:Math.random()*window.innerWidth/100,y:Math.random()*window.innerHeight/100,isDragging:!1,opacity:.8,image:e}]))},p=function(e){"backgroundWhite"===e.target.attrs.id&&A(null)},m=function(){var e=Object(S.a)(w.a.mark((function e(t){var n,a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=t.target.files[0])||void 0===n){e.next=8;break}return e.next=4,x(n);case 4:a=e.sent,(c=new window.Image).src=a,f(c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(S.a)(w.a.mark((function e(t){var n,a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],e.next=3,x(n);case 3:a=e.sent,(c=new window.Image).src=a,h(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t(a.result)},a.onerror=function(e){n(e)}}))};return Object(l.jsxs)(l.Fragment,{children:["NONE"!==e&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("h1",{children:["Part: ",e," "]}),Object(l.jsx)("button",{onClick:function(){if(null!==g){console.log("%c \ud83d\udd05: handleApply -> part ","font-size:16px;background-color:#c15fd4;color:white;",e);var n=g.current.toDataURL();t(function(e,t){return{type:e,payload:t}}(e,n))}},children:"Apply"})]}),Object(l.jsx)("button",{onClick:function(){i([].concat(Object(C.a)(r),[{id:"star".concat(Math.random().toString()),type:"star",key:Math.random().toString(),x:Math.random()*window.innerWidth/100,y:Math.random()*window.innerHeight/100,rotation:180*Math.random(),isDragging:!1,numPoints:5,innerRadius:100,outerRadius:200,fill:"#89b717",opacity:.8}]))},children:"Add Star"}),Object(l.jsx)("button",{onClick:function(){i([].concat(Object(C.a)(r),[{id:"quad".concat(Math.random().toString()),type:"quad",key:Math.random().toString(),x:Math.random()*window.innerWidth/2,y:Math.random()*window.innerHeight/2,rotation:180*Math.random(),isDragging:!1,width:100,height:90,fill:"#a31724",opacity:.8}]))},children:"Add Rectangle"}),Object(l.jsx)("label",{children:"Upload Picture:"}),Object(l.jsx)("input",{type:"file",onChange:m,id:"myPic",name:"myPic"}),Object(l.jsx)("label",{children:"Upload Pattern:"}),Object(l.jsx)("input",{type:"file",onChange:E,id:"myfile",name:"myfile"}),Object(l.jsx)("button",{onClick:function(){t({type:"CLEAN_SHIRT"})},children:"Clean Shirt"}),Object(l.jsx)("button",{onClick:function(){i([])},children:"Clean Stage"}),Object(l.jsx)(U.d,{ref:g,width:window.innerWidth,height:window.innerHeight,onMouseDown:p,onTouchStart:p,children:Object(l.jsxs)(U.b,{children:[Object(l.jsx)(U.c,{id:"backgroundWhite",x:0,y:0,width:window.innerWidth,height:window.innerHeight,fillPatternImage:d}),0!==r.length&&r.map((function(e,t){return"star"===e.type?Object(l.jsx)(F,{shapeProps:e,isSelected:e.id===u,onSelect:function(){A(e.id)},onChange:function(e){var n=r.slice();n[t]=e,i(n)}},t):"quad"===e.type?Object(l.jsx)(L,{shapeProps:e,isSelected:e.id===u,onSelect:function(){A(e.id)},onChange:function(e){var n=r.slice();n[t]=e,i(n)}},t):"image"===e.type?Object(l.jsx)(I,{shapeProps:e,isSelected:e.id===u,onSelect:function(){A(e.id)},onChange:function(e){var n=r.slice();n[t]=e,i(n)}},t):void 0}))]})})]})};var N=function(){return Object(l.jsxs)(b.a,{store:T,children:[Object(l.jsx)(y,{}),Object(l.jsx)(d,{}),Object(l.jsx)(M,{})]})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,63)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(N,{})}),document.getElementById("root")),D()}},[[59,1,2]]]);
//# sourceMappingURL=main.482e6c6a.chunk.js.map